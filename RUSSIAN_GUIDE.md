# üìö –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ imageFX-api –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

**imageFX-api** ‚Äî —ç—Ç–æ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º [Google ImageFX](https://labs.google/fx/tools/image-fx) (Imagen 3/4) —á–µ—Ä–µ–∑ reverse-engineered API. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ TypeScript –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–∞, —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è CLI)
```bash
npm i -g @rohitaryal/imagefx-api
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫ –º–æ–¥—É–ª—å)
```bash
npm i @rohitaryal/imagefx-api
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
```
imagefx-api/
‚îú‚îÄ‚îÄ src/                    # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ ImageFX.ts         # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å API
‚îÇ   ‚îú‚îÄ‚îÄ Account.ts         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏ —Ç–æ–∫–µ–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ Prompt.ts          # –ö–ª–∞—Å—Å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Image.ts           # –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ Constants.ts       # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–º–æ–¥–µ–ª–∏, aspect ratio)
‚îÇ   ‚îú‚îÄ‚îÄ Types.ts           # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ cli.ts             # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ dist/                  # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ (–ø–æ—Å–ª–µ build)
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1Ô∏è‚É£ **ImageFX** (–≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å)
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã:
- `generateImage()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞
- `getImageFromId()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ Media ID
- `generateCaptionsFromImage()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### 2Ô∏è‚É£ **Account** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–í–∞–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `refreshSession()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `getAuthHeaders()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- `isTokenExpired()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞

#### 3Ô∏è‚É£ **Prompt** (–æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
–ö–ª–∞—Å—Å –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```typescript
{
  prompt: string;              // –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  seed: number;                // Seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ (default: 0)
  numberOfImages: number;      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (default: 1, max: 8)
  aspectRatio: AspectRatio;    // –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω
  generationModel: Model;      // –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
- `IMAGEN_3` ‚Äî –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
- `IMAGEN_3_1` ‚Äî —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- `IMAGEN_3_5` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ Imagen 4 (–Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è)

**–î–æ—Å—Ç—É–ø–Ω—ã–µ aspect ratio:**
- `IMAGE_ASPECT_RATIO_SQUARE` ‚Äî –∫–≤–∞–¥—Ä–∞—Ç (1:1)
- `IMAGE_ASPECT_RATIO_PORTRAIT` ‚Äî –ø–æ—Ä—Ç—Ä–µ—Ç (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
- `IMAGE_ASPECT_RATIO_LANDSCAPE` ‚Äî –ø–µ–π–∑–∞–∂ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ)
- `IMAGE_ASPECT_RATIO_UNSPECIFIED` ‚Äî –Ω–µ —É–∫–∞–∑–∞–Ω–æ

#### 4Ô∏è‚É£ **Image** (—Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:
```typescript
{
  seed: number;                 // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π seed
  prompt: string;               // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
  model: Model;                 // –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  aspectRatio: AspectRatio;     // –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω
  mediaId: string;              // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
  save(path: string): string;   // –ú–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
}
```

---

## üîê –ü–æ–ª—É—á–µ–Ω–∏–µ Cookie (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —à–∞–≥)

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å API **–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ** –ø–æ–ª—É—á–∏—Ç—å cookie –≤–∞—à–µ–≥–æ Google –∞–∫–∫–∞—É–Ω—Ç–∞:

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (—á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [Cookie Editor](https://github.com/Moustachauve/cookie-editor)
2. –û—Ç–∫—Ä–æ–π—Ç–µ [labs.google](https://labs.google/fx/tools/image-fx) –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É Cookie Editor –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è—Ö –±—Ä–∞—É–∑–µ—Ä–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ **Export** ‚Üí **Header String**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π (—á–µ—Ä–µ–∑ DevTools)
1. –û—Ç–∫—Ä–æ–π—Ç–µ [labs.google](https://labs.google/fx/tools/image-fx) –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
2. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+I` (–æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
4. –ù–∞–∂–º–∏—Ç–µ `Ctrl+L` (–æ—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏)
5. –ù–∞–∂–º–∏—Ç–µ `Ctrl+R` (–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É)
6. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å `image-fx` –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞
7. –í —Å–µ–∫—Ü–∏–∏ **Request Headers** —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª—è **Cookie**

### üåç –ï—Å–ª–∏ ImageFX –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–µ
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ VPN (Windscribe, Proton, etc.)
2. –û—Ç–∫—Ä–æ–π—Ç–µ [labs.google](https://labs.google/fx/tools/image-fx) —á–µ—Ä–µ–∑ VPN
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ cookie
4. **–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è cookie VPN –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω**

---

## üñ•Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ CLI

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Linux/macOS (Bash):**
```bash
export GOOGLE_COOKIE="–≤–∞—à_cookie_–∑–¥–µ—Å—å"
```

**Windows (Command Prompt):**
```bat
set "GOOGLE_COOKIE=–≤–∞—à_cookie_–∑–¥–µ—Å—å"
```

**Windows (PowerShell):**
```powershell
$env:GOOGLE_COOKIE = "–≤–∞—à_cookie_–∑–¥–µ—Å—å"
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–±–∞–∑–æ–≤–∞—è)
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
imagefx generate --prompt "–ö—Ä–∞—Å–Ω—ã–π –¥—Ä–∞–∫–æ–Ω –≤ –Ω–µ–±–µ" --cookie "$GOOGLE_COOKIE"
```

#### 2. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IMAGEN_3_5 (—Å–∞–º–∞—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å)
imagefx generate \
  --prompt "–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –≥–æ—Ä–æ–¥ –Ω–æ—á—å—é" \
  --model "IMAGEN_3_5" \
  --cookie "$GOOGLE_COOKIE"
```

#### 3. –í—ã–±–æ—Ä —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω
```bash
# –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (portrait)
imagefx generate \
  --prompt "–í—ã—Å–æ–∫–æ–µ –∑–¥–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ art deco" \
  --size "PORTRAIT" \
  --cookie "$GOOGLE_COOKIE"
```

#### 4. –£–∫–∞–∑–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤ ~/Pictures (—Å–æ–∑–¥–∞—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
imagefx generate \
  --prompt "–ó–∞–∫–∞—Ç –Ω–∞ –æ–∫–µ–∞–Ω–µ" \
  --dir ~/Pictures \
  --cookie "$GOOGLE_COOKIE"
```

#### 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```bash
imagefx generate \
  --prompt "–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å" \
  --count 4 \
  --cookie "$GOOGLE_COOKIE"
```

#### 6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
```bash
imagefx generate \
  --prompt "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è" \
  --seed 42 \
  --cookie "$GOOGLE_COOKIE"
```

#### 7. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ Media ID
```bash
imagefx fetch "media_id_–∑–¥–µ—Å—å" --cookie "$GOOGLE_COOKIE"
```

#### 8. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```bash
# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: jpeg, jpg, png, gif, webp, svg, bmp, tiff, apng, avif
imagefx caption \
  --image /path/to/image.png \
  --type PNG \
  --cookie "$GOOGLE_COOKIE"
```

### –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
imagefx generate --help

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ ID
imagefx fetch --help

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
imagefx caption --help
```

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –º–æ–¥—É–ª—å (JavaScript/TypeScript)

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```typescript
import { ImageFX } from "@rohitaryal/imagefx-api";

const COOKIE = process.env.GOOGLE_COOKIE;
const fx = new ImageFX(COOKIE);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const images = await fx.generateImage("–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å –≤ —Å—Ç–∏–ª–µ sci-fi");

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
images.forEach(image => {
  const path = image.save("./output/");
  console.log(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: ${path}`);
});
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

```typescript
import { ImageFX, Prompt } from "@rohitaryal/imagefx-api";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);

// –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
const prompt = new Prompt({
  prompt: "–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã–π –∑–∞–º–æ–∫ –Ω–∞ —Å–∫–∞–ª–µ",
  seed: 123,                                      // –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
  numberOfImages: 4,                               // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  aspectRatio: "IMAGE_ASPECT_RATIO_LANDSCAPE",    // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è
  generationModel: "IMAGEN_3_5",                  // –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å
});

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
const images = await fx.generateImage(prompt);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
for (const image of images) {
  console.log(`–ü—Ä–æ–º–ø—Ç: ${image.prompt}`);
  console.log(`–ú–æ–¥–µ–ª—å: ${image.model}`);
  console.log(`Seed: ${image.seed}`);
  console.log(`Media ID: ${image.mediaId}`);
  
  const savedPath = image.save("./medieval_castles/");
  console.log(`–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: ${savedPath}\n`);
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ Media ID

```typescript
import { ImageFX } from "@rohitaryal/imagefx-api";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const image = await fx.getImageFromId("your_media_id_here");

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
const path = image.save("./retrieved/");
console.log(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: ${path}`);
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

```typescript
import { ImageFX } from "@rohitaryal/imagefx-api";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 3 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–ø–∏—Å–∞–Ω–∏—è
const captions = await fx.generateCaptionsFromImage(
  "/path/to/image.png",  // –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
  "PNG",                  // –¢–∏–ø –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  3                       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–ø–∏—Å–∞–Ω–∏—è
);

captions.forEach((caption, index) => {
  console.log(`–í–∞—Ä–∏–∞–Ω—Ç ${index + 1}: ${caption}`);
});
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```typescript
import { ImageFX, ImageFXError } from "@rohitaryal/imagefx-api";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);

try {
  const images = await fx.generateImage("–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç");
  images.forEach(img => img.save("./output/"));
} catch (error) {
  if (error instanceof ImageFXError) {
    console.error(`–û—à–∏–±–∫–∞ ImageFX: ${error.message}`);
  } else {
    console.error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: ${error}`);
  }
}
```

---

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Jedesser/imageFX-api.git
cd imageFX-api
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
# –∏–ª–∏
bun install
```

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run build
```
–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `dist/` —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º JavaScript –∫–æ–¥–æ–º.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
npm test
# –∏–ª–∏
bun test
```

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

### –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `ImageFX` —Å cookie
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏** ‚Üí `Account.refreshSession()` –ø–æ–ª—É—á–∞–µ—Ç access token
3. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞** ‚Üí `Prompt.toString()` —Å–æ–∑–¥–∞–µ—Ç JSON payload
4. **API –∑–∞–ø—Ä–æ—Å** ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ POST –Ω–∞ `https://aisandbox-pa.googleapis.com/v1:runImageFx`
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞** ‚Üí –ø–∞—Ä—Å–∏–Ω–≥ JSON –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ `Image`
6. **–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ base64 —Ñ–æ—Ä–º–∞—Ç–µ
7. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Üí `Image.save()` –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç base64 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç PNG

### –ö–ª—é—á–µ–≤—ã–µ endpoints:

```typescript
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
https://labs.google/fx/api/auth/session

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
https://aisandbox-pa.googleapis.com/v1:runImageFx

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ Media ID
https://labs.google/fx/api/trpc/media.fetchMedia

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
https://labs.google/fx/api/trpc/backbone.captionImage
```

---

## üõ†Ô∏è Troubleshooting (–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º)

### 1. –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–°–æ–æ–±—â–µ–Ω–∏–µ:** `Authentication failed (401)`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ cookie
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ labs.google
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π cookie (—Å—Ç–∞—Ä—ã–π –º–æ–≥ –∏—Å—Ç–µ—á—å)

### 2. –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
**–°–æ–æ–±—â–µ–Ω–∏–µ:** `Server responded with empty images`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ–º–ø—Ç (–≤–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–∫—É—â–∏–π –Ω–∞—Ä—É—à–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∏ Google)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ ImageFX
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `--retry N` –≤ CLI

### 3. VPN —Ç—Ä–µ–±—É–µ—Ç—Å—è
**–°–æ–æ–±—â–µ–Ω–∏–µ:** –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è cookie
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è cookie VPN –Ω–µ –Ω—É–∂–µ–Ω

### 4. Cookie Editor –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ DevTools
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç–µ –∏–º–µ–Ω–Ω–æ Cookie –∏–∑ Request Headers

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ø–∞–ø–∫–∏ `/examples`

### `1-generate-and-save.ts` ‚Äî –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
```typescript
import { ImageFX } from "../src/index";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);
const images = await fx.generateImage("A big black cockroach");

images.forEach(image => {
  const savedPath = image.save(".cache/");
  console.log("[+] Image saved at: " + savedPath);
});
```

### `2-detailed-prompt.ts` ‚Äî –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```typescript
import { ImageFX, Prompt } from "../src/index";

const fx = new ImageFX(process.env.GOOGLE_COOKIE);
const prompt = new Prompt({
  seed: 0,
  numberOfImages: 4,
  prompt: "A guy who likes spongebob",
  aspectRatio: "IMAGE_ASPECT_RATIO_SQUARE",
  generationModel: "IMAGEN_3_5",
});

const images = await fx.generateImage(prompt);
images.forEach(image => {
  const savedPath = image.save(".cache/");
  console.log("[+] Image saved at: " + savedPath);
});
```

---

## üìù Best Practices (–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏)

1. **–•—Ä–∞–Ω–∏—Ç–µ cookie –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ cookie –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏** ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π seed + –ø—Ä–æ–º–ø—Ç = –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/catch –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `instanceof ImageFXError`
4. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚Äî –º–∞–∫—Å–∏–º—É–º –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ retry parameter** ‚Äî –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π ImageFX](https://labs.google/fx/tools/image-fx)
- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–æ—Ä–∏–≥–∏–Ω–∞–ª)](https://github.com/rohitaryal/imageFX-api)
- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–≤–∞—à —Ñ–æ—Ä–∫)](https://github.com/Jedesser/imageFX-api)
- [NPM –ø–∞–∫–µ—Ç](https://www.npmjs.com/package/@rohitaryal/imagefx-api)

---

## ‚öñÔ∏è Disclaimer (–î–∏—Å–∫–ª–µ–π–º–µ—Ä)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ API Google, –Ω–æ **–Ω–µ –∞—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω —Å Google**. 

‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.** Google –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å API –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í–∫–ª–∞–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è! –ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`npm test`)
- –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å—Ç–∏–ª—é –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-12-04  
**–ê–≤—Ç–æ—Ä —Ä—É—Å—Å–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ Antigravity AI  
**–í–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:** 2.1.1
